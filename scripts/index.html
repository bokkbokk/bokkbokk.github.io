<!DOCTYPE html>
<html lang="en">
  <head>
    <script
      data-goatcounter="https://bokkbokk.goatcounter.com/count"
      async
      src="//gc.zgo.at/count.js"
    ></script>


            <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-7QBB7JMRTC"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-7QBB7JMRTC');
        </script>



    <meta charset="UTF-8" />
    <title>PHOSIMP SCRIPTS</title>
    <link rel="stylesheet" href="/styles.css">
  </head>
  <body id="main">
    <div id="container">
    <h1>Download My PHOSIMP Scripts!</h1>

    <div id="mainscripts">
      <button id="mainRecipeBtn">Main Recipe Script</button>
      <p class="descript">
        this is the main recipe / kinda everything script. it lets you save + load filters, edit and manage recipes, other misc stuff, and includes everything below. it also uses whatever recipe you have selected when making videos.
      </p>
      <p id="versionText">Done now! kinda, ill keep adding to it, this is version ...</p>
    </div>



    <div id="standalone">
    <button onclick="downloadFile('video.zip')">Standalone PHOSIMP video script</button>
    <button onclick="downloadFile('loadJpg.ahk')">Standalone Jpg(+more) loader</button>
    <button onclick="downloadFile('randomImage.ahk')">Standalone Random Image from lorem picsum</button>
    <p>These are ready to download!</p>
    </div>



    <i>Note: the video and loadjpg requires ffmpeg to be installed and on your PATH to function</i>
    </div>










    <script>
      let vernum = "";

      // Fetch the version number from recipever.txt
      fetch('recipever.txt')
        .then(response => response.text())
        .then(text => {
          vernum = text.trim();
          // Update the version 
          document.getElementById('versionText').textContent =
            `Done now! kinda, ill keep adding to it, this is version ${vernum}`;
        });

      function downloadFile(fileName) {
        trackDownload(fileName);
        const link = document.createElement("a");
        link.href = `scriptFiles/${fileName}`;
        link.download = fileName;
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
      }
      function trackDownload(fileName) {
        //////i want to see how many people download this but its too much work rn 
      }

      // Attach event listener to the main recipe button
      document.getElementById('mainRecipeBtn').addEventListener('click', function() {
        if (vernum) {
          downloadFile('recipeScript' + vernum + '.zip');
        } else {
          alert('Version number not loaded yet. Please try again in a moment.');
        }
      });
    </script>
  </body>
</html>
